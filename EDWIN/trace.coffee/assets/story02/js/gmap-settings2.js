var curPopup=null;function closeCurPopup(){if(curPopup!=null){curPopup.close();}}
function initialize(){var myLatLng=null;if(typeof mapCenter!=='undefined'){myLatLng=new google.maps.LatLng(mapCenter.latitude,mapCenter.longitude);}
else if(typeof memberLocations!=='undefined'&&memberLocations.length){myLatLng=new google.maps.LatLng(memberLocations[0].latitude,memberLocations[0].longitude);}
var roadAtlasStyles=[{"featureType":"landscape","elementType":"geometry.fill","stylers":[{"color":"#474D5D"}]},{"elementType":"labels.text.fill","stylers":[{"color":"#FFFFFF"}]},{"elementType":"labels.text.stroke","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"geometry.fill","stylers":[{"color":"#50525f"}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"visibility":"on"},{"color":"#808080"}]},{"featureType":"poi","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"poi","elementType":"geometry","stylers":[{"color":"#808080"}]},{"featureType":"water","elementType":"geometry.fill","stylers":[{"color":"#3071a7"},{"saturation":-65}]},{"featureType":"road","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"landscape","elementType":"geometry.stroke","stylers":[{"color":"#bbbbbb"}]}];if(mapStyles){selectedMapStyles=mapStyles;}
var selectedMapZoom=7;if(mapZoom){selectedMapZoom=mapZoom;}
var mapTypeId='roadmap';if(mapMode){mapTypeId=mapMode;}
var mapOptions={zoom:selectedMapZoom,center:myLatLng,disableDefaultUI:true,mapTypeId:mapTypeId,scrollwheel:false,navigationControl:false,zoomControl:true,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.TOP_RIGHT},mapTypeControl:true,scaleControl:false,draggable:true,styles:selectedMapStyles};var map=new google.maps.Map(document.getElementById('map_canvas'),mapOptions);locations.forEach(function(location){var markerLatLng=new google.maps.LatLng(location.latitude,location.longitude);var icon={url:location.mapMarkerImage,scaledSize:new google.maps.Size(30,30),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(10,10)};var marker=new google.maps.Marker({position:markerLatLng,map:map,icon:icon,title:location.title,zIndex:11});})
var styledMapOptions={name:'US Road Atlas'};var usRoadMapType=new google.maps.StyledMapType(roadAtlasStyles,styledMapOptions);}
google.maps.event.addDomListener(window,"load",initialize);